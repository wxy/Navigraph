/* ========== ä¸»é¢˜å˜é‡å®šä¹‰ ========== */

/* æš—è‰²ä¸»é¢˜ */
[data-theme="dark"] {
  /* åŸºç¡€é¢œè‰² */
  --background-color: #1a1d21;
  --card-bg: #272b33;
  --text-color: #e0e0e0;
  --label-color: #a0a0a0;
  --border-color: #3a3f48;
  
  /* ç»„ä»¶èƒŒæ™¯ */
  --node-bg: #333842;
  --node-hover: #3e4350;
  --node-selected: #4a6ee0;
  
  /* è¿æ¥ä¸é“¾æ¥ */
  --link-color: rgba(255, 255, 255, 0.3);
  --svg-link: rgba(255, 255, 255, 0.3);
  
  /* çŠ¶æ€ä¸å·¥å…·æ  */
  --status-bg: #1f232a;
  --status-text: #a0a0a0;
  --status-border: #3a3f48;
  
  /* å¼¹å‡ºæ¡†ä¸å¤´éƒ¨ */
  --popup-bg: rgba(39, 43, 51, 0.95);
  --popup-header: #1f232a;
  
  /* å·¥å…·æ ç›¸å…³ */
  --toolbar-bg: #272b33;
  --toolbar-text: #e0e0e0;
  --toolbar-border: #3a3f48;
  --toolbar-button: #333842;
  --toolbar-button-text: #e0e0e0;
  --toolbar-button-hover: #3e4350;
  
  /* æŒ‰é’®æ ·å¼ */
  --btn-bg: #333842;
  --btn-text: #e0e0e0;
  --btn-hover: #3e4350;
  --btn-primary: #4a6ee0;
  --btn-primary-hover: #3a5ec0;
  
  /* ç­›é€‰å™¨ç›¸å…³ */
  --filter-bg: #272b33;
  --filter-text: #e0e0e0;
  --filter-border: #3a3f48;
  --filter-active: #4a6ee0;
  --filter-hover: #3e4350;
  
  /* SVG å…ƒç´  */
  --svg-background: #1a1d21;
  --svg-node-fill: #333842;
  --svg-node-stroke: #4a4f58;
  --svg-text: #e0e0e0;
  
  /* å…¶ä»–å…ƒç´  */
  --scrollbar-track: #1a1d21;
  --scrollbar-thumb: #3a3f48;
  --scrollbar-thumb-hover: #4a4f58;
  --zoom-controls-bg: rgba(39, 43, 51, 0.8);

  /* æ·»åŠ WindowsçŠ¶æ€æ å˜é‡ */
  --status-cell-bg: #444;
  --status-border-dark: #222;
  --status-border-light: #555;

  /* èŠ‚ç‚¹çŠ¶æ€é¢œè‰² */
  --status-active: #6f6;
  --status-closed: #f66;

  /* æ·»åŠ æ–°çš„å˜é‡ */
  --color-bg-primary: #1a1d21;
  --color-bg-primary-rgb: 26, 29, 33;
  --color-bg-secondary: #272b33;
  --color-bg-tertiary: #333842;
  --color-bg-panel: #1e2228;
  --color-bg-panel-dark: #1e2228;
  --color-text: #e0e0e0;
  --color-text-emphasis: #ffffff;
  --color-border: #3a3f48;
  --color-accent: #4a6ee0;
  --color-bg-hover: #3e4350;
  
  /* æ»šåŠ¨æ¡é¢œè‰² */
  --color-scrollbar: rgba(255, 255, 255, 0.2);
  --color-scrollbar-hover: rgba(255, 255, 255, 0.3);
  --color-scrollbar-dark: rgba(255, 255, 255, 0.2);
  --color-scrollbar-dark-hover: rgba(255, 255, 255, 0.3);

  /* æ˜ å°„å˜é‡ */
  --svg-background: var(--background-color);
  --node-bg: var(--color-bg-tertiary);
  --toolbar-button-hover: var(--color-bg-hover);

  /* æ·»åŠ Logoå®¹å™¨ç‰¹å®šå˜é‡ */
  --logo-bg-color: rgba(26, 29, 33, 0.8);
  --logo-border: 1px solid rgba(255, 255, 255, 0.1);
  --logo-text-color: #333;

  /* æ·»åŠ æ—¥å†ç›¸å…³å˜é‡ */
  --calendar-bg: #2d333b;
  --calendar-text: #e6edf3;
  --calendar-border: #444c56;
  --calendar-weekday: #adbac7;
  --session-start-bg: rgba(88, 166, 255, 0.2);
  --session-start-shadow: rgba(88, 166, 255, 0.2);
  --session-continue-bg: rgba(88, 166, 255, 0.1);
  --selected-day-bg: rgba(88, 166, 255, 0.3);
  --accent-color: #58a6ff;
}

/* äº®è‰²ä¸»é¢˜ */
[data-theme="light"] {
  /* åŸºç¡€é¢œè‰² */
  --background-color: #f5f7fa;
  --card-bg: #ffffff;
  --text-color: #333333;
  --label-color: #555555;
  --border-color: #e0e0e0;
  
  /* ç»„ä»¶èƒŒæ™¯ */
  --node-bg: #ffffff;
  --node-hover: #f5f5f5;
  --node-selected: #4a6ee0;
  
  /* è¿æ¥ä¸é“¾æ¥ */
  --link-color: rgba(0, 0, 0, 0.2);
  --svg-link: rgba(0, 0, 0, 0.2);
  
  /* çŠ¶æ€ä¸å·¥å…·æ  */
  --status-bg: #f8f9fa;
  --status-text: #555555;
  --status-border: #e0e0e0;
  
  /* å¼¹å‡ºæ¡†ä¸å¤´éƒ¨ */
  --popup-bg: rgba(255, 255, 255, 0.95);
  --popup-header: #f5f7fa;
  
  /* å·¥å…·æ ç›¸å…³ */
  --toolbar-bg: #ffffff;
  --toolbar-text: #333333;
  --toolbar-border: #e0e0e0;
  --toolbar-button: #f5f7fa;
  --toolbar-button-text: #333333;
  --toolbar-button-hover: #e9ecef;
  
  /* æŒ‰é’®æ ·å¼ */
  --btn-bg: #f5f7fa;
  --btn-text: #333333;
  --btn-hover: #e9ecef;
  --btn-primary: #4a6ee0;
  --btn-primary-hover: #3a5ec0;
  
  /* ç­›é€‰å™¨ç›¸å…³ */
  --filter-bg: #ffffff;
  --filter-text: #333333;
  --filter-border: #e0e0e0;
  --filter-active: #4a6ee0;
  --filter-hover: #f5f5f5;
  
  /* SVG å…ƒç´  */
  --svg-background: #ffffff;
  --svg-node-fill: #ffffff;
  --svg-node-stroke: #cccccc;
  --svg-text: #333333;
  
  /* å…¶ä»–å…ƒç´  */
  --scrollbar-track: #f1f1f1;
  --scrollbar-thumb: #d1d1d1;
  --scrollbar-thumb-hover: #b1b1b1;
  --zoom-controls-bg: rgba(255, 255, 255, 0.8);

  /* æ·»åŠ WindowsçŠ¶æ€æ å˜é‡ */
  --status-cell-bg: #e0e0e0;
  --status-border-dark: #808080;
  --status-border-light: #fff;

  /* èŠ‚ç‚¹çŠ¶æ€é¢œè‰² */
  --status-active: #00aa00;
  --status-closed: #cc0000;

  /* æ·»åŠ æ–°çš„å˜é‡ */
  --color-bg-primary: #ffffff;
  --color-bg-primary-rgb: 255, 255, 255;
  --color-bg-secondary: #f0f2f5;
  --color-bg-tertiary: #f8f9fa;
  --color-bg-panel: #f5f7fa;
  --color-text: #333333;
  --color-text-emphasis: #000000;
  --color-border: #e0e0e0;
  --color-accent: #4a6ee0;
  --color-bg-hover: #e9ecef;
  
  /* æ»šåŠ¨æ¡é¢œè‰² */
  --color-scrollbar: rgba(0, 0, 0, 0.2);
  --color-scrollbar-hover: rgba(0, 0, 0, 0.3);

  /* æ˜ å°„å˜é‡ */
  --svg-background: var(--background-color);
  --node-bg: var(--color-bg-tertiary);
  --toolbar-button-hover: var(--color-bg-hover);

  /* æ·»åŠ Logoå®¹å™¨ç‰¹å®šå˜é‡ */
  --logo-bg-color: rgba(255, 255, 255, 0.8);
  --logo-border: 1px solid rgba(0, 0, 0, 0.1);
  --logo-text-color: #333;

  /* æ·»åŠ æ—¥å†ç›¸å…³å˜é‡ */
  --calendar-bg: white;
  --calendar-text: #333;
  --calendar-border: #eaeaea;
  --calendar-weekday: #666;
  --session-start-bg: rgba(74, 108, 247, 0.15);
  --session-start-shadow: rgba(74, 108, 247, 0.1);
  --session-continue-bg: rgba(74, 108, 247, 0.06);
  --selected-day-bg: rgba(74, 108, 247, 0.2);
  --accent-color: #4a6cf7;
}

/* æ·»åŠ ç³»ç»Ÿé»˜è®¤ä¸»é¢˜å˜é‡ï¼Œç”¨äºæœªæŒ‡å®šä¸»é¢˜æ—¶çš„é»˜è®¤å€¼ */
:root {
  /* åŸºç¡€é¢œè‰² */
  --color-bg-primary: #ffffff;
  --color-bg-primary-rgb: 255, 255, 255;
  --color-bg-secondary: #f0f2f5;
  --color-bg-tertiary: #f8f9fa;
  --color-bg-panel: #f5f7fa;
  --color-bg-panel-dark: #1e2228;
  --color-text: #333333;
  --color-text-emphasis: #000000;
  --color-border: #e0e0e0;
  --color-accent: #4a6ee0;
  --color-bg-hover: #e9ecef;
  /* Badge appearance defaults */
  --badge-bg: #e6e6e6; /* æµ…ç°èƒŒæ™¯ */
  --badge-border: #cfcfcf; /* è¾¹æ¡† */
  --badge-text: #333333; /* é»˜è®¤æ–‡æœ¬è‰²ï¼ˆå¯è¢«ä¸»é¢˜è¦†ç›–ï¼‰ */
  --badge-font-size: 7px;
  
  /* æ»šåŠ¨æ¡é¢œè‰² */
  --color-scrollbar: rgba(0, 0, 0, 0.2);
  --color-scrollbar-hover: rgba(0, 0, 0, 0.3);
  --color-scrollbar-dark: rgba(255, 255, 255, 0.2);
  --color-scrollbar-dark-hover: rgba(255, 255, 255, 0.3);
}

/* æ ¹æ®ç³»ç»Ÿé¢œè‰²æ–¹æ¡ˆè‡ªåŠ¨é€‰æ‹©ä¸»é¢˜ï¼ˆå¦‚æœæœªæ˜¾å¼è®¾ç½®ä¸»é¢˜ï¼‰ */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) {
    /* äº®è‰²ä¸»é¢˜å˜é‡ */
    --color-bg-primary: #ffffff;
    --color-bg-primary-rgb: 255, 255, 255;
    --color-bg-secondary: #f0f2f5;
    --color-bg-tertiary: #f8f9fa;
    --color-bg-panel: #f5f7fa;
    --color-text: #333333;
    --color-text-emphasis: #000000;
    --color-border: #e0e0e0;
    --color-accent: #4a6ee0;
    --color-bg-hover: #e9ecef;
    
    /* æ»šåŠ¨æ¡é¢œè‰² */
    --color-scrollbar: rgba(0, 0, 0, 0.2);
    --color-scrollbar-hover: rgba(0, 0, 0, 0.3);

    /* æ·»åŠ Logoå®¹å™¨ç‰¹å®šå˜é‡ */
    --logo-bg-color: rgba(255, 255, 255, 0.8);
    --logo-border: 1px solid rgba(0, 0, 0, 0.1);
    --logo-text-color: #333;
  }
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* æš—è‰²ä¸»é¢˜å˜é‡ */
    --color-bg-primary: #1a1d21;
    --color-bg-primary-rgb: 26, 29, 33;
    --color-bg-secondary: #272b33;
    --color-bg-tertiary: #333842;
    --color-bg-panel: #1e2228;
    --color-text: #e0e0e0;
    --color-text-emphasis: #ffffff;
    --color-border: #3a3f48;
    --color-accent: #4a6ee0;
    --color-bg-hover: #3e4350;
    
    /* æ»šåŠ¨æ¡é¢œè‰² */
    --color-scrollbar: rgba(255, 255, 255, 0.2);
    --color-scrollbar-hover: rgba(255, 255, 255, 0.3);

    /* æ·»åŠ Logoå®¹å™¨ç‰¹å®šå˜é‡ */
    --logo-bg-color: rgba(26, 29, 33, 0.8);
    --logo-border: 1px solid rgba(255, 255, 255, 0.1);
    --logo-text-color: #333;
  }
}

/* ========== æ»šåŠ¨æ¡æ ·å¼ ========== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

/* æ§åˆ¶é¢æ¿æ»šåŠ¨æ¡æ ·å¼ - æŒ‰ä¸»é¢˜åˆ†ç±» */
[data-theme="light"] .control-panel::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
}

[data-theme="light"] .control-panel::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .control-panel::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .control-panel::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .control-panel::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
  }

  :root:not([data-theme]) .control-panel::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.3);
  }
}

/* ========== æ—¶é—´çº¿è§†å›¾ä¸»é¢˜æ ·å¼ ========== */
/* æ—¶é—´çº¿è§†å›¾æ·±è‰²ä¸»é¢˜æ ·å¼ */
[data-theme="dark"] .timeline-svg {
  background-color: var(--svg-background);
}

[data-theme="dark"] .timeline-arrow {
  fill: var(--text-color);
}

[data-theme="dark"] .timeline-node-text {
  fill: var(--text-color);
}

[data-theme="dark"] .time-axis-background {
  fill: var(--card-bg);
}

[data-theme="dark"] .time-axis text {
  fill: var(--text-color);
}

[data-theme="dark"] .time-axis line,
[data-theme="dark"] .time-axis path {
  stroke: var(--border-color);
}

[data-theme="dark"] .grid-line {
  stroke: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .time-axis-title {
  fill: var(--text-color);
}

/* æ—¶é—´çº¿è§†å›¾äº®è‰²ä¸»é¢˜æ ·å¼ */
[data-theme="light"] .timeline-svg {
  background-color: var(--svg-background) !important;
}

[data-theme="light"] .timeline-arrow {
  fill: var(--text-color);
}

[data-theme="light"] .timeline-node-text {
  fill: var(--text-color);
}

[data-theme="light"] .time-axis-background {
  fill: var(--card-bg) !important;
}

[data-theme="light"] .timeline-background {
  fill: var(--svg-background) !important;
}

[data-theme="light"] .time-axis text {
  fill: var(--text-color);
}

[data-theme="light"] .time-axis line,
[data-theme="light"] .time-axis path {
  stroke: var(--border-color);
}

[data-theme="light"] .grid-line {
  stroke: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .time-axis-title {
  fill: var(--text-color);
}
/* ç¡®ä¿æ•´ä¸ªæ—¶é—´çº¿å®¹å™¨èƒŒæ™¯æ­£ç¡® */
[data-theme="light"] .visualization-container,
[data-theme="light"] .timeline-view,
[data-theme="light"] .timeline-container,
[data-theme="light"] #visualization svg {
  background-color: var(--svg-background) !important;
}
/* ========== SVG å…ƒç´ ä¸»é¢˜æ ·å¼ ========== */
/* SVG èŠ‚ç‚¹æ–‡æœ¬æ ·å¼ - æ·±è‰²ä¸»é¢˜ */
[data-theme="dark"] svg text {
  fill: var(--svg-text);
}

/* SVG èŠ‚ç‚¹æ–‡æœ¬æ ·å¼ - äº®è‰²ä¸»é¢˜ */
[data-theme="light"] svg text {
  fill: var(--svg-text);
}

/* ğŸ¯ æˆç»„æ ‡è®°æ–‡å­—å§‹ç»ˆä¸ºç™½è‰²ï¼Œä¸å—ä¸»é¢˜å½±å“ */
svg text.group-badge-text {
  fill: #fff !important;
}

/* ç¡®ä¿ SVG èƒŒæ™¯æ­£ç¡® */
[data-theme="dark"] svg {
  background-color: var(--svg-background);
}

[data-theme="light"] svg {
  background-color: var(--svg-background);
}


/* ========== ç‰¹å®šç»„ä»¶æ ·å¼è¦†ç›– ========== */
/* é’ˆå¯¹æ·±è‰²ä¸»é¢˜çš„ç‰¹å®šä¿®å¤ */

[data-theme="dark"] body.loading-session #visualization-container::before {
  background: rgba(30, 30, 30, 0.8);
  color: #fff;
}
[data-theme="dark"] #no-data {
  background-color: rgba(210, 215, 220, 0.75);  /* äº®è‰²åŠé€æ˜èƒŒæ™¯ */
  color: #333;  /* æ·±è‰²æ–‡æœ¬ */
  border: 1px solid rgba(225, 225, 225, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .logo-container {
  background-color: rgba(var(--color-bg-primary-rgb), 0.8);
}

[data-theme="dark"] #no-data #status-text {
  color: #333;  /* ç¡®ä¿æ–‡æœ¬åœ¨äº®è‰²èƒŒæ™¯ä¸Šå¯è¯» */
}

[data-theme="light"] #no-data {
  background-color: rgba(39, 43, 51, 0.75);  /* æš—è‰²åŠé€æ˜èƒŒæ™¯ */
  color: #fff;  /* äº®è‰²æ–‡æœ¬ */
  border: 1px solid rgba(75, 80, 92, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

[data-theme="light"] #no-data #status-text {
  color: #fff;  /* ç¡®ä¿æ–‡æœ¬åœ¨æš—è‰²èƒŒæ™¯ä¸Šå¯è¯» */
}

[data-theme="dark"] .control-panel {
  background-color: var(--color-bg-panel-dark, #1e2228); /* æ·±è‰²æ¨¡å¼ä¸‹çš„é¢æ¿èƒŒæ™¯è‰² */
}
[data-theme="dark"] .control-panel::-webkit-scrollbar-thumb {
  background-color: var(--color-scrollbar-dark, rgba(255, 255, 255, 0.2));
}

[data-theme="dark"] .control-panel::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-scrollbar-dark-hover, rgba(255, 255, 255, 0.3));
}

/* ç­›é€‰é¢æ¿ */
[data-theme="dark"] .filters-panel {
  background-color: var(--filter-bg);
  border-color: var(--filter-border);
  color: var(--filter-text);
}

[data-theme="dark"] .filters-panel h2,
[data-theme="dark"] .filters-panel h3 {
  color: var(--text-color);
}

[data-theme="dark"] .filter-option label {
  color: var(--filter-text);
}

/* çŠ¶æ€æ  */
[data-theme="dark"] .status-bar {
  background-color: var(--status-bg);
  border-color: var(--status-border);
  color: var(--status-text);
}

/* å·¥å…·æ å’ŒæŒ‰é’® */
[data-theme="dark"] .toolbar {
  background-color: var(--toolbar-bg);
  border-color: var(--toolbar-border);
}

[data-theme="dark"] .view-mode button {
  background-color: var(--toolbar-button);
  color: var(--toolbar-button-text);
}

[data-theme="dark"] .view-mode button:hover {
  background-color: var(--toolbar-button-hover);
}

[data-theme="dark"] .view-mode button.active {
  background-color: var(--btn-primary);
  color: white;
}

/* èŠ‚ç‚¹è¯¦æƒ…é¢æ¿ */
[data-theme="dark"] .node-details-panel {
  background: var(--popup-bg);
  border-color: var(--border-color);
  color: var(--text-color);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .node-details-close {
  color: var(--text-color);
}

[data-theme="dark"] .node-details-title {
  border-bottom-color: var(--border-color);
  color: var(--text-color);
}

[data-theme="dark"] .detail-label {
  color: var(--label-color);
}

[data-theme="dark"] .detail-url {
  color: var(--btn-primary);
}

[data-theme="light"] .node-details-panel {
  background: var(--popup-bg);
  border-color: var(--border-color);
  color: var(--text-color);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .node-details-close {
  color: var(--text-color);
}

/* è¡¨å•æ§ä»¶ */
[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea,
[data-theme="dark"] .form-control {
  background-color: var(--node-bg);
  color: var(--text-color);
  border-color: var(--border-color);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] .form-control:focus {
  border-color: var(--btn-primary);
  box-shadow: 0 0 0 0.2rem rgba(74, 110, 224, 0.25);
}

/* å¡ç‰‡å’Œé¢æ¿ */
[data-theme="dark"] .card,
[data-theme="dark"] .panel,
[data-theme="dark"] .box {
  background-color: var(--card-bg);
  color: var(--text-color);
  border-color: var(--border-color);
}

[data-theme="dark"] .card-header,
[data-theme="dark"] .panel-header,
[data-theme="dark"] .box-header {
  background-color: var(--popup-header);
  color: var(--text-color);
  border-color: var(--border-color);
}

/* ä¿®å¤ monospace æ ·å¼ */
[data-theme="dark"] .monospace {
  background-color: var(--node-bg);
  color: var(--text-color);
}

/* ========== ä¿®å¤æ·±è‰²ä¸»é¢˜ä¸­å¯èƒ½å‡ºç°çš„ç‰¹å®šé—®é¢˜ ========== */

/* ç¡®ä¿æ—¶é—´çº¿è§†å›¾èƒŒæ™¯æ­£ç¡® */
[data-theme="dark"] .timeline-view,
[data-theme="dark"] .timeline-container,
[data-theme="dark"] .timeline-panel,
[data-theme="dark"] .timeline-wrapper {
  background-color: var(--background-color);
  color: var(--text-color);
}

/* å¤„ç†ç‰¹æ®ŠçŠ¶æ€æ˜¾ç¤º */
.status-active {
  color: var(--status-active, #6f6);
}

.status-closed {
  color: var(--status-closed, #f66);
}

[data-theme="light"] .status-active {
  color: var(--status-active, #00aa00);
}

[data-theme="light"] .status-closed {
  color: var(--status-closed, #cc0000);
}

/* æŠ€æœ¯è¯¦æƒ…éƒ¨åˆ† */
[data-theme="dark"] .technical-details {
  border-top-color: var(--border-color);
}

[data-theme="dark"] .technical-content {
  color: var(--label-color);
}

/* é˜²æ­¢ç‰¹å®šå›¾æ ‡åœ¨æ·±è‰²ä¸»é¢˜ä¸­ä¸å¯è§ */
[data-theme="dark"] .icon-dark {
  filter: invert(1);
}

/* ä¼šè¯èŠ‚ç‚¹åœ¨æ·±è‰²ä¸»é¢˜ä¸‹çš„æ ·å¼ */
[data-theme="dark"] .node.session rect {
  fill: #333;
  stroke: #111;
}

/* ä¼šè¯æ ¹èŠ‚ç‚¹ï¼ˆsession-rootï¼‰æ ·å¼ - æ·±è‰²ä¸»é¢˜ */
[data-theme="dark"] .session-root-circle {
  fill: #111; /* æ›´æ·±çš„åº•è‰²ï¼Œä¾¿äºä¸æµ…è‰²æ—¥æœŸæ–‡å­—åŒºåˆ† */
  stroke: #2b2b2b;
  stroke-width: 1;
}

[data-theme="dark"] .session-root-text {
  fill: #e6edf3; /* æµ…è‰²æ—¥æœŸæ–‡å­— */
  font-weight: 600;
}

/* ä¼šè¯æ ¹èŠ‚ç‚¹ï¼ˆsession-rootï¼‰æ ·å¼ - äº®è‰²ä¸»é¢˜ */
[data-theme="light"] .session-root-circle {
  fill: #222; /* æ·±è‰²åœ†å½¢ä»¥ä¸æ•´ä½“æµ…è‰²èƒŒæ™¯åŒºåˆ† */
  stroke: #111;
  stroke-width: 1;
}

[data-theme="light"] .session-root-text {
  fill: #ffffff; /* æµ…è‰²æ—¥æœŸæ–‡å­— */
  font-weight: 600;
}

/* ä¼šè¯æ ¹èŠ‚ç‚¹ä¸¤è¡Œæ–‡æœ¬æ ·å¼ï¼ˆé»˜è®¤ï¼‰ */
.session-year,
.session-mmdd {
  font-family: inherit;
  font-weight: 600;
}

[data-theme="dark"] .session-year,
[data-theme="dark"] .session-mmdd {
  fill: rgba(230,237,243,0.95);
}

[data-theme="light"] .session-year,
[data-theme="light"] .session-mmdd {
  fill: #ffffff;
}

/* SPA è§’æ ‡æ ·å¼ï¼ˆå¯è¢«ä¸»é¢˜è¦†ç›–ï¼‰ */
.tree-spa-badge text.spa-badge-text {
  /* ä½¿ç”¨ CSS å˜é‡ä½œä¸ºåå¤‡ï¼Œé»˜è®¤ 7pxï¼›æ–‡æœ¬å‚ç›´å±…ä¸­å¹¶å…è®¸æè¾¹ä»¥æé«˜å¯è¯»æ€§ */
  font-size: var(--badge-font-size, 7px);
  text-anchor: middle;
  dominant-baseline: middle;
  paint-order: stroke;
  stroke-width: 0.8;
  /* é»˜è®¤é¢œè‰²ä¸ºæµ…è‰²æ–‡æœ¬ + æ·±è‰²æè¾¹ï¼ˆç”¨äºæµ…ä¸»é¢˜ï¼‰ï¼Œä¸»é¢˜è§„åˆ™ä¼šè¦†ç›– */
  fill: var(--spa-badge-fill, #fff);
  stroke: var(--spa-badge-stroke, #000);
}

/* å¼ºåˆ¶ç§»é™¤æ ‘è§†å›¾ä¸­ SPA è§’æ ‡åœ†çš„å¡«å……ï¼ˆé˜²æ­¢è¢«é€šç”¨ .node circle è¦†ç›–ï¼‰ */
.tree-spa-badge circle {
  fill: none !important;
  pointer-events: none;
  /* é»˜è®¤æè¾¹é¢œè‰²ï¼Œä¸»é¢˜ä¼šè¦†ç›– */
  stroke: var(--spa-badge-ring-stroke, #666);
  stroke-width: 0.8 !important; /* æ›´ç»†çš„å¤–åœˆ */
}

/* ä¸»é¢˜è¦†ç›–ï¼šæ·±è‰²ä¸äº®è‰²ä¸»é¢˜ä¸‹çš„ SPA è§’æ ‡é…è‰² */
[data-theme="dark"] .tree-spa-badge text.spa-badge-text {
  fill: rgba(230,237,243,0.95); /* æµ…è‰²æ–‡æœ¬ */
  stroke: rgba(0,0,0,0.85);
}

[data-theme="dark"] .tree-spa-badge circle {
  stroke: rgba(230,237,243,0.35);
}

[data-theme="light"] .tree-spa-badge text.spa-badge-text {
  fill: #111; /* æ·±è‰²æ–‡æœ¬ */
  stroke: rgba(255,255,255,0.85);
}

[data-theme="light"] .tree-spa-badge circle {
  stroke: rgba(0,0,0,0.18);
}

/* ä¼šè¯æ ¹èŠ‚ç‚¹åˆ†éš”çº¿æ ·å¼ï¼Œä¸»é¢˜ç›¸å…³é¢œè‰² */
[data-theme="dark"] .session-separator {
  stroke: rgba(0, 0, 0, 0.35);
  stroke-width: 1.2;
}

[data-theme="light"] .session-separator {
  stroke: rgba(230, 237, 243, 0.95);
  stroke-width: 1.2;
}

/* å›é€€é»˜è®¤æ ·å¼ï¼ˆä¸­æ€§ï¼‰ */
.session-separator {
  stroke: rgba(0,0,0,0.18);
  stroke-width: 1.2;
}

[data-theme="dark"] .node.redirect text {
  fill: #ff9800;
}
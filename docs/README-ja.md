Navigraph: ブラウジング履歴の可視化
===

> あなたのブラウジング経路とウェブナビゲーション履歴を直感的に可視化し、情報の流れを理解し、ブラウジングの軌跡を記憶するのに役立ちます。

## 主な機能

- 📊 **ブラウジング履歴の可視化** - ツリー図とウォーターフォール図でウェブブラウジングの軌跡を表示
- 🗂️ **セッション管理** - ブラウジング活動を自動的に意味のあるセッションに整理
- 🔄 **リアルタイム更新** - ブラウジング中にナビゲーション図を動的に更新
- 🛡️ **プライバシー保護** - すべてのデータはローカルに保存され、クラウドにアップロードされません
- 🌙 **ダークモード** - ダークテーマをサポートし、目を保護

### クイックスタート

1. 拡張機能ページを開く（ツールバーの Navigraph アイコンをクリック）。
2. ページ右側のコントロールパネルのハンドルにマウスを移動し、短時間ホバーまたはクリックしてサイドバーを開きます。サイドバーでは、セッションの日付を選択したり、ビューを切り替えたり、ノードをフィルタリングしたりできます。
3. ステータスバーでビューを切り替えたり、非表示/閉じたノードの表示状態を切り替えたりすることもできます。
4. ノードをクリックして詳細を表示できます。

## 使用ガイド（概要）

### インストール

#### Chrome ウェブストアから

1. [Chrome ウェブストア Navigraph ページ](https://chrome.google.com/webstore/detail/navigraph/jfjgdldpgmnhclffkkcnbhleijeopkhi) にアクセス
2. 「Chrome に追加」をクリック

#### Edge アドオンストアから

1. [Edge アドオンストア Navigraph ページ](https://microsoftedge.microsoft.com/addons/detail/ibcpeknflplfaljendadfkhmflhfnhdh) にアクセス
2. 「取得」をクリックして拡張機能をインストール

### サイドバー

サイドバーは主にセッションの選択とノードのフィルタリングに使用されます：

- ビューの切り替え：サイドバーの上部で現在のビュー（ツリー図 / ウォーターフォール図）を切り替え
- セッションカレンダー：日付ごとにセッションを表示し、セッション履歴を選択して読み込みます。同じ日に複数のセッションがある場合は個別に表示
- フィルタリングコントロール：ナビゲーションタイプや動作に基づいて結果をフィルタリング（例：リンククリックのみ表示、フォーム送信のみ表示など）

ヒント：データ範囲を切り替えたり、分析範囲を迅速に特定するための主要なエントリポイントとして、最初にセッションを選択してからビューを切り替えることをお勧めします。

### ステータスバー

ステータスバーは、インターフェース内で簡潔なコンテキストとインタラクションを提供します：

- 現在のビュー（ツリー図 / ウォーターフォール図）を表示および切り替え
- セッション統計（ノード数、セッション時間など）を表示し、ビューに関連するクイック操作を提供（例：ノードの非表示/表示状態を切り替え）
- 日付をクリックして今日のセッションにすばやく戻る

説明：ステータスバーのコントロールは現在のビューに直接関連するインタラクションエントリです。より複雑なフィルタリングは引き続きサイドバーを介して行います。

### ビューのインタラクション

Navigraph は、ツリー図とウォーターフォール図という 2 つの補完的なビューを提供します。

#### ツリー図

目的：階層関係を使用してページナビゲーションパスを表示し、エントリポイントと分岐を分析しやすくします。

- ノードのインタラクション：ホバーして簡単な情報を表示。クリックして詳細パネルを開く（タイトル、URL、アクセス時間、SPA リクエスト数などを含む）
- ズーム/ドラッグ：ツリービューでは、マウスドラッグでキャンバスをパンし、マウスホイールでビューをスケーリング（ブラウザと設定によって具体的な動作が異なる場合があります）
- SPA バッジ：ツリーノードには、目立たないリングバッジと数字（SPA リクエストがある場合）が表示され、ノードにマージされた SPA リクエストの数を示します。

#### ウォーターフォール図

目的：タイムラインに沿ってイベント/リクエストを表示し、重複と持続時間を確認しやすくします。

- ノードのインタラクション：ウォーターフォール図では、同じタブで同じ時間帯に複数のノードを折りたたんで表示（折りたたみグループ）。ユーザーは折りたたみグループを展開してグループ内の項目を表示できます。折りたたみグループ内は通常、ドロワースタイルで表示され、内部スクロールをサポート
- 折りたたみグループはタブごとにグループ化（同じ時間帯に同じタブのノードが同じグループにマージされる）。展開後、ドロワー内でさらに多くの項目をスクロールして表示可能
- ホイールとドラッグ：現在の実装では、マウスホイールは主にレーン間を垂直方向にスクロールするために使用されます。ドラッグは時間ウィンドウをパンしたり、観察ウィンドウの位置を調整したりするために使用
- SPA バッジ：ノードの右上隅のマークは、そのノードにマージされた SPA リクエスト数を表します。

### オプションページ（設定）

オプションページには、拡張機能の動作を調整するためのいくつかのプリファレンスが含まれています：

- セッション分割のアイドル時間しきい値（セッションを自動的に分割するために使用）
- セッションモードの選択（例：日ごと / 手動 / アクティビティベース）
- 言語選択（インターフェースのローカライズ言語を強制的に指定するために使用）

説明：ノードのフィルタリング、表示/非表示の制御、およびより詳細なフィルタリング操作は、サイドバーのフィルタリングコントロールまたはビュー内コントロールによって提供されます。オプションページは、グローバルな動作とローカライズ設定に重点を置いています。

### トラブルシューティング（よくある質問）

- ビューが更新されない：拡張ページをリフレッシュするか、セッションを再読み込みしてみてください。
- セッション分割の異常：オプションページのアイドル時間しきい値を調整して、期待により一致する分割を取得します。

## データ管理とプライバシー

- ローカルストレージ：すべてのブラウジング履歴データはローカル（IndexedDB / LocalStorage）にのみ保存され、クラウドにアップロードされません。

## 最近の更新

v1.1.0 以降の主な変更：

- 「タイムライン」ビューを削除し、新しい「ウォーターフォール」ビューを追加。タイムラインに沿ってイベントとレーンの割り当てを表示
- ツリー図に SPA ページリクエストの処理を追加：ノード詳細に SPA リクエストカウントを表示し、ノードに小型リングバッジを表示して存在する SPA リクエストを示す

## 開発者と技術情報

### ローカル開発とビルド

1. リポジトリをクローン：`git clone https://github.com/wxy/Navigraph.git`
2. 依存関係をインストール：`npm install`
3. ビルド：`npm run build`
4. Chrome (`chrome://extensions/`) で未パッケージ拡張機能を読み込み、`dist` ディレクトリを選択

### イシューと連絡先

GitHub Issues でバグや機能リクエストを送信：https://github.com/wxy/Navigraph/issues

### 貢献ガイドライン

貢献したい場合：

1. リポジトリをフォークし、機能ブランチを作成（`git checkout -b feature/your-feature`）
2. 明確な変更をコミットし、プルリクエスト（PR）を開く

この拡張機能が使用している言語でエラーや不正確な箇所を見つけた場合、翻訳の改善を含むプルリクエストを送信してください！

### ライセンス

このプロジェクトは MIT ライセンスの下で提供されています — [LICENSE](LICENSE) を参照してください。

### 技術スタック

- フロントエンド：TypeScript、D3.js、CSS3
- ストレージ：IndexedDB / LocalStorage
- ブラウザ API：Chrome Extensions API
- ビルドツール：Webpack
Navigraph: 可視化瀏覽歷史記錄
===

> 直觀地可視化您的瀏覽路徑和網頁導航歷史，幫助您理解資訊流動和記憶瀏覽軌跡。

## 主要功能

- 📊 **可視化瀏覽歷史** - 以樹形圖和瀑布圖展示您的網頁瀏覽軌跡
- 🗂️ **會話管理** - 自動將瀏覽活動組織為有意義的會話
- 🔄 **即時更新** - 瀏覽時動態更新導航圖
- 🛡️ **隱私保護** - 所有資料本地儲存，不會上傳到雲端
- 🌙 **深色模式** - 支援深色主題，保護您的眼睛

### 快速開始

1. 開啟擴充頁面（點擊工具列中的 Navigraph 圖示）。
2. 將滑鼠移到頁面右側的控制面板把手，短暫懸停或點擊以開啟側邊欄；在側邊欄可以選擇會話日期、切換視圖並進行節點篩選。
3. 也可以在狀態列切換視圖或切換已隱藏/已關閉節點的顯示狀態。
4. 節點可以點擊查看詳細資訊。

## 使用指南（概覽）

### 安裝

#### 從 Chrome 網上應用程式商店

1. 造訪 [Chrome 網上應用程式商店 Navigraph 頁面](https://chrome.google.com/webstore/detail/navigraph/jfjgdldpgmnhclffkkcnbhleijeopkhi)
2. 點擊「新增至 Chrome」。

#### 從 Edge 附加元件商店

1. 造訪 [Edge 附加元件商店 Navigraph 頁面](https://microsoftedge.microsoft.com/addons/detail/ibcpeknflplfaljendadfkhmflhfnhdh)
2. 點擊「取得」以安裝擴充。

### 側邊欄

側邊欄主要用於會話選擇與節點篩選：

- 視圖切換：在側邊欄頂部切換目前視圖（樹形圖 / 瀑布圖）。
- 會話日曆：按日期查看會話、選擇並載入會話歷史；支援按天切換和查看當日的多個會話。
- 篩選控件：按導航類型或行為進行過濾（例如僅顯示連結跳轉、僅顯示表單提交等）。

提示：側邊欄是切換資料範圍與快速定位的主要入口，建議先選擇會話再切換視圖進行分析。

### 狀態列

狀態列在介面中提供簡明的上下文與互動：

- 顯示並可切換目前視圖（樹形圖 / 瀑布圖）。
- 顯示會話統計（如節點數、會話時長）並提供與視圖相關的快捷操作，例如切換節點的隱藏/顯示狀態。
- 點擊日期可快速切回當天會話。

說明：狀態列上的控件為與目前視圖直接相關的互動入口；更複雜的篩選仍透過側邊欄完成。

### 視圖互動

Navigraph 提供兩種互補視圖：樹形圖和瀑布圖。

#### 樹形圖

目的：以層級關係展示頁面導航路徑，方便分析入口與分支。

- 節點互動：懸停顯示簡要資訊；點擊開啟詳情面板（包含標題、URL、訪問時間、及 SPA 請求數等）。
- 縮放/拖曳：在樹視圖中，滑鼠拖曳用於平移畫布，滑鼠滾輪通常用於按比例縮放視圖（具體行為受瀏覽器和設定影響）。
- SPA 徽章：樹節點上會顯示一個不顯眼的環形徽章與數字（若有 SPA 請求），用於提示該節點合併了多少 SPA 請求。

#### 瀑布圖

目的：沿時間軸展示事件/請求，便於查看重疊與持續時長。

- 節點互動：瀑布圖支援將同一分頁在同一時間段內的多個節點進行折疊顯示（折疊組），使用者可以展開折疊組以查看組內項目，折疊組內通常使用抽屜樣式展示並支援內部捲動。
- 折疊組按分頁分組（同一時段內，同一分頁的節點會在同一組內合併），展開後可以在抽屜內部捲動查看更多條目。
- 滾輪與拖曳：滑鼠滾輪在目前實現中主要用於垂直方向捲動泳道，便於在多泳道間瀏覽；拖曳用於平移時間視窗或調整觀察視窗位置。
- SPA 徽章：節點右上角的標記代表該節點合併的 SPA 請求數。

### 選項頁（設定）

選項頁包含用於調整擴充行為的一些首選項：

- 會話分割的閒置時間閾值（用於自動劃分會話）。
- 會話模式選擇（例如：按日 / 手動 / 基於活動）。
- 語言選擇（用於強制指定介面的本地化語言）。

說明：節點篩選、顯示/隱藏類控制與更多細粒度的過濾操作由側欄的篩選控件或視圖內控件提供；選項頁側重於全域行為和本地化設定。

### 故障排除（常見問題）

- 視圖未更新：嘗試重新整理擴充頁面或重新載入會話。
- 會話劃分異常：調整選項頁中的閒置時間閾值以獲得更符合預期的分割。

## 資料管理與隱私

- 本地儲存：所有瀏覽歷史資料僅保存在本機（IndexedDB / LocalStorage），不會上傳到雲端。

## 最近更新

自 v1.1.0 以來的主要變更：

- 將「時間線」視圖移除，並新增「瀑布圖」視圖，用於按時間軸查看事件與泳道分配。
- 在樹形圖中新增對 SPA 頁面請求的處理：在節點詳情中顯示 SPA 請求計數，並在節點上顯示小型環形徽章以提示存在的 SPA 請求。

## 開發者與技術資訊

### 本地開發與建置

1. 複製倉庫：`git clone https://github.com/wxy/Navigraph.git`
2. 安裝依賴：`npm install`
3. 建置：`npm run build`
4. 在 Chrome (`chrome://extensions/`) 載入未封裝擴充，選擇 `dist` 目錄。

### 議題與聯絡

在 GitHub Issues 提交 Bug 或功能請求： https://github.com/wxy/Navigraph/issues

### 貢獻指南

如果您想貢獻：

1. Fork 倉庫並建立功能分支（`git checkout -b feature/your-feature`）。
2. 提交清晰的變更並開啟拉取請求（PR）。

如果你發現這個擴充在你使用的語言中有錯誤或不準確的地方，歡迎提交翻譯改進的拉取請求！

### 授權條款

本專案採用 MIT 授權條款 — 見 [LICENSE](LICENSE)。

### 技術架構

- 前端：TypeScript、D3.js、CSS3
- 儲存：IndexedDB / LocalStorage
- 瀏覽器 API：Chrome Extensions API
- 建置工具：Webpack